<!doctype html>
<html lang="fr">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>InstaLike - Prototype</title>
    <link rel="stylesheet" href="css/instagram-styles-v2.css">
  </head>
  <body>
  <header class="instagram-header">
    <div class="header-content">
      <a href="#" class="instagram-logo">Instagram</a>
      <div class="search-container">
        <input type="text" class="search-input" placeholder="Rechercher">
      </div>
      <nav class="header-nav">
        <span class="nav-icon">🏠</span>
        <span class="nav-icon">💬</span>
        <span class="nav-icon">🔍</span>
        <span class="nav-icon">❤️</span>
        <span class="nav-icon" onclick="toggleDarkMode()" title="Mode sombre">🌙</span>
        <div class="nav-icon post-avatar">RK</div>
      </nav>
    </div>
  </header>

  <!-- PAGE: Feed (default) -->
  <section id="feedPage" class="page">
    <div class="main-layout">
      <main class="main-feed">
        <!-- Stories -->
        <div class="stories-container">
          <div class="stories" id="stories">
            <div class="story">
              <div class="story-avatar">
                <div class="post-avatar">RK</div>
              </div>
              <div class="story-username">Riche</div>
            </div>
            <div class="story">
              <div class="story-avatar">
                <div class="post-avatar">📚</div>
              </div>
              <div class="story-username">Alice</div>
            </div>
          </div>
        </div>

        <!-- Filtres -->
        <div class="feed-controls" style="background: white; border: 1px solid var(--gray-400); border-radius: 3px; padding: 12px; margin-bottom: 24px;">
          <div class="filters" style="display: flex; gap: 8px; justify-content: center;">
            <button class="filter-btn active" data-filter="all" style="padding: 6px 12px; border: 1px solid var(--gray-400); border-radius: 4px; background: var(--blue); color: white; font-size: 12px; font-weight: 600;">Tous</button>
            <button class="filter-btn" data-filter="story" style="padding: 6px 12px; border: 1px solid var(--gray-400); border-radius: 4px; background: white; color: var(--gray-800); font-size: 12px; font-weight: 600;">Histoires</button>
            <button class="filter-btn" data-filter="language" style="padding: 6px 12px; border: 1px solid var(--gray-400); border-radius: 4px; background: white; color: var(--gray-800); font-size: 12px; font-weight: 600;">Langue</button>
            <button class="filter-btn" data-filter="art" style="padding: 6px 12px; border: 1px solid var(--gray-400); border-radius: 4px; background: white; color: var(--gray-800); font-size: 12px; font-weight: 600;">Art</button>
            <button class="filter-btn" data-filter="conservation" style="padding: 6px 12px; border: 1px solid var(--gray-400); border-radius: 4px; background: white; color: var(--gray-800); font-size: 12px; font-weight: 600;">Conservation</button>
          </div>
        </div>

        <!-- Posts feed -->
        <div id="feedPlaceholder">
          <!-- Posts will be injected here -->
        </div>
      </main>

      <aside class="sidebar">
        <div class="sidebar-profile">
          <div class="sidebar-avatar">RK</div>
          <div class="sidebar-user-info">
            <h4>riche_cultural</h4>
            <p>Riche</p>
          </div>
        </div>

        <div class="suggestions">
          <div class="suggestions-header">
            <h3 class="suggestions-title">Suggestions pour vous</h3>
            <a href="#" class="suggestions-see-all">Voir tout</a>
          </div>
          <div class="suggestion-item">
            <div class="suggestion-avatar">📚</div>
            <div class="suggestion-info">
              <div class="suggestion-username">education_culturelle</div>
              <div class="suggestion-subtitle">Suivi par 2 amis</div>
            </div>
            <button class="follow-btn">Suivre</button>
          </div>
          <div class="suggestion-item">
            <div class="suggestion-avatar">🛡️</div>
            <div class="suggestion-info">
              <div class="suggestion-username">preservation_noongar</div>
              <div class="suggestion-subtitle">Populaire</div>
            </div>
            <button class="follow-btn">Suivre</button>
          </div>
        </div>

        <div style="margin-top: 32px;">
          <h4 style="color: var(--gray-600); font-size: 14px; font-weight: 600; margin-bottom: 12px;">Mots Noongar</h4>
          <ul id="languageList" class="language-list" style="list-style: none; padding: 0;">
            <!-- language words injected here -->
          </ul>
          <a href="#" id="contributeLink" style="color: var(--blue); font-size: 12px; text-decoration: none;">Contribuer une ressource</a>
        </div>
      </aside>
    </div>
  </section>

  <!-- PAGE: Créer Post -->
  <section id="createPage" class="page hidden">
    <div class="create-container">
      <div class="create-header">
        <h2>Créer un nouveau post</h2>
      </div>
      
      <form id="createPostForm" class="create-form">
        <div class="photo-upload-area">
          <div class="upload-placeholder" id="uploadPlaceholder">
            <div class="upload-icon">📷</div>
            <p>Glissez des photos et vidéos ici</p>
            <button type="button" class="select-btn" onclick="document.getElementById('postImage').click()">Sélectionner sur l'ordinateur</button>
          </div>
          <input type="file" id="postImage" name="photo" accept="image/*" style="display:none" required>
          <div class="photo-preview" id="imagePreview" style="display:none;"></div>
        </div>

        <div class="form-row">
          <div class="post-avatar">RK</div>
          <div class="form-inputs">
            <textarea id="postDescription" name="content" placeholder="Rédigez une légende..." maxlength="2200" required></textarea>
            
            <div class="form-options">
              <input type="text" id="postLocation" name="location" placeholder="Ajouter un lieu" required>
              <input type="text" id="postTitle" name="title" placeholder="Titre du post" required>
              <select id="postCategory" required>
                <option value="">Choisir une catégorie...</option>
                <option value="story">Histoire/Récit</option>
                <option value="language">Langue</option>
                <option value="art">Art/Artisanat</option>
                <option value="conservation">Conservation</option>
              </select>
            </div>
          </div>
        </div>

        <div class="form-actions">
          <button type="submit" class="publish-btn">Partager</button>
          <button type="button" class="cancel-btn" onclick="showPage('feed')">Annuler</button>
        </div>
      </form>
    </div>
  </section>

  <!-- PAGE: Profil -->
  <section id="profilePage" class="page hidden">
    <div class="profile-container">
      <div class="profile-header">
        <div class="profile-avatar-large">RK</div>
        <div class="profile-info">
          <div class="profile-username-row">
            <div class="profile-username">
              <h1>riche_cultural</h1>
            </div>
            <button class="edit-profile-btn">Modifier le profil</button>
            <span style="cursor: pointer; font-size: 24px;">⚙️</span>
          </div>
          <div class="profile-stats">
            <span><strong id="userPostsCount">0</strong> publications</span>
            <span><strong>150</strong> abonnés</span>
            <span><strong>25</strong> abonnements</span>
          </div>
          <div class="profile-bio">
            <strong>Riche</strong><br>
            Étudiant passionné par la préservation culturelle Noongar 🪃<br>
            Perth, Western Australia 🇦🇺
          </div>
        </div>
      </div>

      <div class="profile-tabs">
        <button class="tab-btn active" data-tab="posts">
          <span style="margin-right: 6px;">⊞</span>
          PUBLICATIONS
        </button>
        <button class="tab-btn" data-tab="saved">
          <span style="margin-right: 6px;">🔖</span>
          ENREGISTRÉ
        </button>
        <button class="tab-btn" data-tab="tagged">
          <span style="margin-right: 6px;">👤</span>
          IDENTIFIÉ
        </button>
      </div>

      <div id="userPostsGrid" class="posts-grid">
        <!-- User posts will be displayed here -->
      </div>
    </div>
  </section>

  <!-- PAGE: Découvrir -->
  <section id="discoverPage" class="page hidden">
    <div class="explore-container">
      <div class="explore-grid">
        <!-- Explore posts grid will be populated by JS -->
        <div class="explore-item">
          <img src="https://images.unsplash.com/photo-1578662996442-48f60103fc96?q=80&w=400&auto=format&fit=crop" alt="Culture">
        </div>
        <div class="explore-item">
          <img src="https://images.unsplash.com/photo-1506905925346-21bda4d32df4?q=80&w=400&auto=format&fit=crop" alt="Nature">
        </div>
        <div class="explore-item">
          <img src="https://images.unsplash.com/photo-1500530855697-b586d89ba3ee?q=80&w=400&auto=format&fit=crop" alt="Landscape">
        </div>
      </div>
    </div>
  </section>

  <!-- Navigation -->
  <nav class="bottom-nav">
    <button class="nav-item active" data-page="feed">
      <span class="nav-icon">🏠</span>
      <span class="nav-label">Feed</span>
    </button>
    <button class="nav-item" data-page="create">
      <span class="nav-icon">➕</span>
      <span class="nav-label">Créer</span>
    </button>
    <button class="nav-item" data-page="profile">
      <span class="nav-icon">👤</span>
      <span class="nav-label">Profil</span>
    </button>
    <button class="nav-item" data-page="discover">
      <span class="nav-icon">🔍</span>
      <span class="nav-label">Découvrir</span>
    </button>
  </nav>

  <div id="storyModal" class="modal hidden" role="dialog" aria-hidden="true">
    <div class="modal-content">
      <button id="closeStory">✕</button>
      <div id="storyArea"></div>
    </div>
  </div>

  <div id="postModal" class="modal hidden" role="dialog" aria-hidden="true">
    <div class="modal-content" id="postModalContent">
      <button id="closePost">✕</button>
      <div id="postDetail"></div>
    </div>
  </div>

  <script src="js/app.js"></script>
</body>
</html>